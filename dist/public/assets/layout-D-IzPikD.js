import{c as M,h as k,a as v,b7 as m,j as e,B as d,a$ as E,aZ as C,a5 as h,b8 as S,b9 as T,aH as A,ba as U,bb as I,bc as $,bd as j,be as x,ak as y,aV as z}from"./index-DzUQlMCL.js";import{S as f}from"./settings-C3McDjct.js";import{L as b}from"./log-out-DkZZLLuv.js";import{F}from"./file-text-xMDIOZi1.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=M("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),w=n=>{const[a]=v();return a===n};function H({children:n}){const{toast:a}=k(),[O,r]=v(),[o,u]=m.useState(!1),[L,c]=m.useState("Employee");m.useEffect(()=>{let s=!0;return(async()=>{try{const i=new Date().getTime(),l=await y.get(`/bypass/user?t=${i}`,{withCredentials:!0});if(!s)return;l.data&&l.data.username?c(l.data.username):c("Employee")}catch(i){if(!s)return;console.error("Error fetching username:",i),c("Employee")}})(),()=>{s=!1}},[]);const p=async()=>{try{await y.post("/bypass/auth/logout"),a({title:"Logged out",description:"You have been successfully logged out"}),r("/employee/login")}catch(s){console.error("Logout error:",s),a({title:"Logout failed",description:"An error occurred while logging out",variant:"destructive"})}},D=()=>{u(!o)},g=[{name:"Dashboard",path:"/employee/dashboard",icon:e.jsx(N,{className:"h-5 w-5"})},{name:"Clients",path:"/employee/clients",icon:e.jsx(z,{className:"h-5 w-5"})},{name:"Transactions",path:"/employee/transactions",icon:e.jsx(F,{className:"h-5 w-5"})},{name:"Settings",path:"/employee/settings",icon:e.jsx(f,{className:"h-5 w-5"})}];return e.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[e.jsx("header",{className:"border-b sticky top-0 z-30 bg-background",children:e.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs(d,{variant:"ghost",size:"icon",onClick:D,className:"md:hidden",children:[o?e.jsx(E,{className:"h-6 w-6"}):e.jsx(C,{className:"h-6 w-6"}),e.jsx("span",{className:"sr-only",children:"Toggle menu"})]}),e.jsx(h,{to:"/employee/dashboard",className:"flex items-center gap-2",children:e.jsx("span",{className:"font-bold text-xl",children:"Employee Portal"})})]}),e.jsx("nav",{className:"hidden md:flex items-center gap-6",children:g.map(s=>{const t=w(s.path);return e.jsxs(h,{to:s.path,className:`flex items-center gap-1 text-sm font-medium transition-colors hover:text-primary ${t?"text-primary":"text-muted-foreground"}`,children:[s.icon,e.jsx("span",{children:s.name})]},s.path)})}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(S,{children:[e.jsx(T,{asChild:!0,children:e.jsxs(d,{variant:"ghost",className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),e.jsx("span",{className:"max-w-[150px] truncate hidden sm:inline-block",children:L}),e.jsx(U,{className:"h-4 w-4"})]})}),e.jsxs(I,{align:"end",children:[e.jsx($,{children:"My Account"}),e.jsx(j,{}),e.jsxs(x,{onClick:()=>r("/employee/dashboard"),children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),e.jsxs(x,{onClick:()=>r("/employee/settings"),children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Settings"]}),e.jsx(j,{}),e.jsxs(x,{onClick:p,children:[e.jsx(b,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})]})}),o&&e.jsx("div",{className:"fixed inset-0 z-40 bg-background md:hidden pt-16",children:e.jsx("nav",{className:"container py-6",children:e.jsxs("ul",{className:"space-y-6",children:[g.map(s=>{const t=w(s.path);return e.jsx("li",{children:e.jsxs(h,{to:s.path,className:`flex items-center gap-2 text-lg font-medium ${t?"text-primary":"text-muted-foreground"}`,onClick:()=>u(!1),children:[s.icon,e.jsx("span",{children:s.name})]})},s.path)}),e.jsx("li",{children:e.jsxs(d,{variant:"destructive",className:"w-full flex items-center justify-center gap-2 mt-4",onClick:p,children:[e.jsx(b,{className:"h-5 w-5"}),"Logout"]})})]})})}),e.jsx("main",{className:"flex-1",children:e.jsx("div",{className:"container py-6",children:n})}),e.jsx("footer",{className:"border-t py-4 bg-background",children:e.jsxs("div",{className:"container flex flex-col sm:flex-row items-center justify-between text-sm text-muted-foreground",children:[e.jsxs("p",{children:["Â© ",new Date().getFullYear()," EvokeEssence s.r.o."]}),e.jsx("p",{className:"mt-2 sm:mt-0",children:"Employee Portal v1.0.0"})]})})]})}export{H as E};
